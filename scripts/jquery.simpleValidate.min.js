(function($){$.fn.simpleValidate=function(options){var opts=$.extend({},$.fn.simpleValidate.defaults,options);return this.each(function(){var $this=$(this),o=$.meta?$.extend({},opts,$this.data()):opts,errorMsgType=o.errorText.search(/{label}/);$this.bind("submit",function(e){var hasError=false;$this.find(o.errorElement+"."+o.errorClass).remove();$this.find(":input."+o.inputErrorClass).removeClass(o.inputErrorClass);$this.find(":input.required").each(function(){var $input=$(this),fieldValue=$.trim($input.val()),labelText=$input.siblings("label").text().replace(o.removeLabelChar,""),errorMsg="";if(fieldValue===""){errorMsg=(errorMsgType>-1)?errorMsg=o.errorText.replace("{label}",labelText):errorMsg=o.errorText;hasError=true}else{if($input.hasClass("email")){if(!(/^([_a-z0-9-]+)(\.[_a-z0-9-]+)*@([a-z0-9-]+)(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/.test(fieldValue))){errorMsg=(errorMsgType>-1)?errorMsg=o.emailErrorText.replace("{label}",labelText):errorMsg=o.emailErrorText;hasError=true}}else{if($input.hasClass("weburl")){if(!(/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(fieldValue))){errorMsg=(errorMsgType>-1)?errorMsg=o.webUrlErrorText.replace("{label}",labelText):errorMsg=o.webUrlErrorText;hasError=true}}}}if(errorMsg!==""){$input.addClass(o.inputErrorClass).after("<"+o.errorElement+' class="'+o.errorClass+'">'+errorMsg+"</"+o.errorElement+">")}});if(hasError){e.preventDefault()}else{if(o.completeCallback!==""){o.completeCallback($this);if(o.ajaxRequest){e.preventDefault()}}}})})};$.fn.simpleValidate.defaults={errorClass:"error",errorText:"Polje {label} mora biti izpolnjeno!",emailErrorText:"Prosim pravilno vnesite {label}",webUrlErrorText:"Prosim pravilno vnesite {label}",errorElement:"strong",removeLabelChar:"*",inputErrorClass:"",completeCallback:"",ajaxRequest:false}})(jQuery);